<!DOCTYPE html>
<html>
<head>
  <title>simple crystal game</title>
  
  <style type="text/css">

    .crystalImage {
      width: 300px;
      height: 300px;
    }
  </style>

</head>
<body>
  <h1>Crystals Collector!</h1>
  <h1>Number to Guess: <span id="numberToGuess"></span></h1>

  <h1>Your total score is: <span id="counter"></span></h1>

  <!-- Note that this div is now empty. We will fill it dynamically -->
  <div id="crystals">
  <img src="https://s-media-cache-ak0.pinimg.com/564x/f9/0b/6f/f90b6f950e31e25028b1e51ae2281b73.jpg" id = "sapphire" class = "crystalImage">
  <img src="https://lh6.googleusercontent.com/-NxZGUZXZg6A/AAAAAAAAAAI/AAAAAAAAAAc/QS4oVJL2NgI/photo.jpg" id = "ruby" class = "crystalImage">
  <img src="http://www.icestore.com/search/assets/ypear.jpg" id = "yellowd" class ="crystalImage">
  <img src="http://cdn.leibish.com/media/mediabank/fancy-green-diamond_1872.1aa48.jpg" id = "greend" class = "crystalImage">
  </div>
  
  <h2>Wins: <span id="win"></span></h2>
  <h2>Losses: <span id="losses"></span></h2>



  <!-- JAVASCRIPT  -->
  <!-- ========================================= -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>

  <script type="text/javascript">

  var win = 0;
  var losses = 0;

  var targetNumber = Math.floor(Math.random()*100 + 1);

  $("#numberToGuess").text(targetNumber);

  var counter = 0;

  // Now for the hard part. Creating multiple crystals each with their own unique number value.

  // We begin by expanding our array to include four options.
  // var numberOptions = [10, 5, 3, 7];

  // // Next we create a for loop to create crystals for every numberOption.
  // for (var i = 0; i < numberOptions.length; i++) {

  //   // For each iteration, we will create an imageCrystal
  //   var imageCrystal = $("<img>");

  //   // First each crystal will be given the class ".crystalImage".
  //   // This will allow the CSS to take effect.
  //   imageCrystal.addClass("crystalImage");

  //   // Each imageCrystal will be given a src link to the crystal image
  //   imageCrystal.attr("src", "http://cdn.playbuzz.com/cdn/35910209-2844-45c0-b099-f4d82878d54f/00261fda-4062-4096-81fd-8cf96b9034e8.jpg");

  //   // Each imageCrystal will be given a data attribute called data-crystalValue.
  //   // This data attribute will be set equal to the array value.
  //   imageCrystal.attr("data-crystalvalue", numberOptions[i]);

  //   // Lastly, each crystal image (with all it classes and attributes) will get added to the page.
  //   $("#crystals").append(imageCrystal);
  // }

    var numbersapphire = Math.floor(Math.random()*10 + 1);

    console.log(numbersapphire);
    var sapphired = $("#sapphire")
    sapphired.attr("data-crystalvalue", numbersapphire);



    var numberruby = Math.floor(Math.random()*10 + 1);

    console.log(numberruby);
    var rubyd = $("#ruby");
    rubyd.attr("data-crystalvalue", numberruby);

    var numberyellow = Math.floor(Math.random()*10 + 1);
    console.log(numberyellow);
    var yellowd = $("#yellowd");
    yellowd.attr("data-crystalvalue", numberyellow);

    var numbergreen = Math.floor(Math.random()*10 + 1);
    console.log(numbergreen);
    var greend = $("#greend");
    greend.attr("data-crystalvalue",numbergreen);











  // This time, our click event applies to every single crystal on the page. Not just one.
  $(".crystalImage").on("click", function() {

    // Determining the crystal's value requires us to extract the value from the data attribute.
    // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
    // Using the .data("crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
    // (It automatically strips the "data-" part).
    var crystalValue = ($(this).data("crystalvalue"));

    // We then add the crystalValue to the user's "counter" which is a global variable.
    // Every click, from every crystal adds to the global counter.
    counter += crystalValue;

    // All of the same game win-lose logic applies. So the rest remains unchanged.

    //alert("New score: " + counter);
    $("#counter").html(counter);


    if (counter === targetNumber) {
      alert("You win!");
      win ++;
      $('#win').html(win);
    }

    else if (counter >= targetNumber) {
      alert("You lose!!");
      losses++;
      $('#losses').html(losses);
    }

  });

  </script>
</body>
</html>